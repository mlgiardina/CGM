<%= form_for(@plot) do |f| %>
  <%= cloudinary_js_config %>
  <p>Current Image:
    <img src=<%=@plot.image %>>
    <p>Upload a New Image:</p>
    <%= cl_image_upload(:image,
                        :crop => :fill,
                        :width => 200,
                        :height => 200) %>
  </p>
  <%= f.submit "Update Image" %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Plant Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
  <% @plot.plants.each do |plant| %>
    <% @plot_plant_id = PlotPlant.where(plant_id: plant.id,
                                      plot_id: @plot.id).first.id.to_s %>
    <%= react_component("UserPlant", plant: plant, plotPlantID: @plot_plant_id) %>
  <% end %>
  </tbody>
</table>

<button data-target="plant_index" class="btn modal-trigger">Add a Plant</button>

<%= react_component("PlantIndex", plants: @plants, plot: @plot) %>
